_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{r4JT:function(t,o,e){"use strict";e.r(o);var r=e("o0o1"),a=e.n(r),n=e("HaE+"),i=e("wx14"),c=e("q1tI"),p=e.n(c),l=e("1OyB"),d=e("vuIU"),s=e("JX7q"),u=e("Ji7U"),y=e("md7G"),m=e("foSv"),F=e("rePB"),h=e("/MKj"),g=e("VHO0"),f=e("79Xs"),T=e("tRbT"),b=e("Z3vd"),x=e("kfFl"),v=e("+JwS"),D=e("EQI2"),C=e("++HY"),O=e("yv+Y"),I=e("kKAo"),j=e("H2TA"),L=e("ZiQX"),H=e("doQp"),E=e.n(H),w=e("ODXe"),U=e("R/WZ"),N=e("hxuT"),P=e("g3U7"),k=e("ADg1"),G=e("1AYd"),S=e("cVXz"),W=e("dl/7"),Q=e("r9w1"),A=e("1waj"),q=e.n(A),R=e("hQyO"),M=e.n(R),K=e("+bXu"),X=e("sWYD"),B=e("mPma"),z=e("K+qn"),V=e("Glqu"),_=e("iSMj"),J=e("rokU"),Y=e("Hm5U"),Z=e("B0Kt"),$=p.a.createElement;function tt(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),e.push.apply(e,r)}return e}function ot(t){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?tt(Object(e),!0).forEach((function(o){Object(F.a)(t,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):tt(Object(e)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))}))}return t}function et(t){var o=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=Object(m.a)(t);if(o){var a=Object(m.a)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return Object(y.a)(this,e)}}var rt=function(t){Object(u.a)(e,t);var o=et(e);function e(){return Object(l.a)(this,e),o.apply(this,arguments)}return Object(d.a)(e,[{key:"getDatePickerHeaderText",value:function(t){return Object(X.a)(t,"dd/MM/yyyy",{locale:this.locale})}}]),e}(B.a),at={en:_.a,vi:J.a},nt={en:B.a,vi:rt},it=Object(U.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},detail:{width:"100%",height:"300px",backgroundColor:t.palette.background.paper},option:{width:"auto","& input":{width:"auto",background:W.a}},popper:{width:"fit-content"},textField:{width:"auto",marginLeft:t.spacing(1),marginRight:t.spacing(1)}}})),ct=function(t){var o=it(),e=p.a.useState(!1),r=Object(w.a)(e,2),a=r[0],n=r[1],c={elementConfig:{type:"input",placeholder:"Nh\u1eadp m\xe3",onFocus:t.exportToFactoryCodeFocusHandler,autoFocus:t.exportToFactoryCode.autoFocus},validation:{required:!0,minLength:1}},l={elementConfig:{type:"select",placeholder:"Ch\u1ecdn s\u1ea3n ph\u1ea9m",onFocus:t.exportToFactoryEmployeeIdFocusHandler},validation:{required:!0}},d={elementConfig:{type:"select",placeholder:"Ch\u1ecdn s\u1ea3n ph\u1ea9m",onFocus:t.exportToFactoryProductIdFocusHandler},validation:{required:!0}},s={elementConfig:{type:"select",placeholder:"Ch\u1ecdn s\u1ea3n ph\u1ea9m",onFocus:t.exportToFactoryGoldTypeIdFocusHandler},validation:{required:!0}},u={elementConfig:{type:"text",placeholder:"Nh\u1eadp tr\u1ecdng l\u01b0\u1ee3ng",onFocus:t.exportToFactoryWeightFocusHandler,autoFocus:t.exportToFactoryWeight.autoFocus},validation:{required:!0,minValue:.1,maxValue:999999999.9}},y={elementConfig:{type:"select",placeholder:"\u0110\u01a1n v\u1ecb",onFocus:t.exportToFactoryGoldUnitIdFocusHandler},validation:{required:!0}},m={elementConfig:{type:"text",placeholder:"Nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng",onFocus:t.exportToFactoryQuantityFocusHandler,autoFocus:t.exportToFactoryQuantity.autoFocus},validation:{required:!0,minValue:1,maxValue:999}},F={elementConfig:{type:"text",placeholder:"Ng\xe0y xu\u1ea5t",onFocus:t.exportToFactoryDateFocusHandler,autoFocus:t.exportToFactoryDate.autoFocus},validation:{required:!0}},h={elementConfig:{type:"input",placeholder:"Nh\u1eadp ghi ch\xfa",onFocus:t.exportToFactoryNoteFocusHandler,autoFocus:t.exportToFactoryNote.autoFocus},validation:{}},g=function(t,o){if(!t||!o)return!1;var e=t.id;e||(e=t);var r=o.id;return r||(r=o),e===r};return $("form",{onSubmit:t.exportToFactorySaveHandler},$(T.a,null,$(T.a,{item:!0,xs:12,className:o.root},$(Q.a,Object(i.a)({className:o.textField,required:!0,error:!!(!t.exportToFactoryCode.valid&t.exportToFactoryCode.touched),inputProps:{name:"exportToFactoryCode",id:"exportToFactoryCode"},label:"M\xe3",margin:"normal"},c.elementConfig,{value:t.exportToFactoryCode.value,onChange:function(o){return t.exportToFactoryCodeChanged(o,c.validation)}})),$(K.a,{id:"employeeId-select",options:t.employeeList.employees,classes:{option:o.option},autoHighlight:!0,value:t.employeeId.value,onChange:function(o,e){t.exportToFactoryEmployeeIdChanged(o,e,l.validation)},groupBy:function(t){return t.deptId},renderGroup:function(o){return[$(N.a,{key:o.group,component:"div"},t.deptList.depts.find((function(t){return t.id==o.group})).description),o.children]},getOptionLabel:function(o){if(o&&o.id)return o.name;var e=t.employeeList.employees.find((function(t){return t.id==o}));return e?e.name:""},getOptionSelected:g,renderOption:function(t){return $(p.a.Fragment,null,t.description)},renderInput:function(o){return $(Q.a,Object(i.a)({},o,{inputProps:ot(ot({},o.inputProps),{},{name:"employeeId-option",id:"employeeId-option"}),style:{minWidth:200},required:!0,label:"Xu\u1ea5t cho",margin:"normal",error:!!(!t.employeeId.valid&t.employeeId.touched)},l.elementConfig))}}),$(z.a,{utils:nt.vi,locale:at.vi},$(V.a,Object(i.a)({clearable:!0,required:!0,error:!!(!t.exportToFactoryDate.valid&t.exportToFactoryDate.touched),name:"exportToFactoryDate",id:"exportToFactoryDate",format:"dd/MM/yyyy",todayLabel:"H\xf4m nay",cancelLabel:"H\u1ee7y",clearLabel:"X\xf3a",okLabel:"Ch\u1ecdn",label:"Ng\xe0y nh\u1eadp",margin:"normal",value:t.exportToFactoryDate.value},F.elementConfig,{onChange:function(o){return t.exportToFactoryDateChanged({target:{value:o}},F.validation)}}))),$(Q.a,{disabled:!0,name:"exportToFactoryWeightTotal",id:"exportToFactoryWeightTotal",label:"T\u1ed5ng tr\u1ecdng l\u01b0\u1ee3ng",margin:"normal",value:t.weightTotal}),$(Q.a,{disabled:!0,name:"exportToFactoryQuantityTotal",id:"exportToFactoryQuantityTotal",label:"T\u1ed5ng s\u1ed1 l\u01b0\u1ee3ng",margin:"normal",value:t.quantityTotal}),$(P.a,Object(i.a)({rowsMin:4,className:o.textField,error:!t.exportToFactoryNote.valid&t.exportToFactoryNote.touched?"true":"false",name:"exportToFactoryNote",id:"exportToFactoryNote",label:"Ghi ch\xfa",margin:"normal"},h.elementConfig,{value:t.exportToFactoryNote.value,onChange:function(o){return t.exportToFactoryNoteChanged(o,h.validation)}}))),$(T.a,{item:!0,xs:12,className:o.root},$(K.a,{id:"productId-select",options:t.productList.products,classes:{option:o.option},autoHighlight:!0,value:t.productId.value,onChange:function(o,e){t.exportToFactoryProductIdChanged(o,e,d.validation)},groupBy:function(t){return t.productTypeId},renderGroup:function(o){return[$(N.a,{key:o.group,component:"div"},t.productTypeList.productTypes.find((function(t){return t.id==o.group})).description),o.children]},getOptionLabel:function(o){if(o&&o.id)return o.name;var e=t.productList.products.find((function(t){return t.id==o}));return e?e.name:""},getOptionSelected:g,renderOption:function(t){return $(p.a.Fragment,null,t.description)},renderInput:function(o){return $(Q.a,Object(i.a)({},o,{inputProps:ot(ot({},o.inputProps),{},{name:"productId-option",id:"productId-option"}),style:{minWidth:200},label:"S\u1ea3n ph\u1ea9m",margin:"normal",error:!!(!t.productId.valid&t.productId.touched)},d.elementConfig))}}),$(K.a,{id:"goldTypeId-select",options:t.goldTypeList.goldTypes,classes:{option:o.option},autoHighlight:!0,value:t.goldTypeId.value,onChange:function(o,e){t.exportToFactoryGoldTypeIdChanged(o,e,s.validation)},getOptionLabel:function(o){if(o&&o.id)return o.name;var e=t.goldTypeList.goldTypes.find((function(t){return t.id==o}));return e?e.name:""},getOptionSelected:g,renderOption:function(t){return $(p.a.Fragment,null,t.description)},renderInput:function(o){return $(Q.a,Object(i.a)({},o,{inputProps:ot(ot({},o.inputProps),{},{name:"goldTypeId-option",id:"goldTypeId-option"}),style:{minWidth:200},label:"Lo\u1ea1i v\xe0ng",margin:"normal",error:!!(!t.goldTypeId.valid&t.goldTypeId.touched)},s.elementConfig))}}),$(Q.a,Object(i.a)({className:o.textField,error:!!(!t.exportToFactoryWeight.valid&t.exportToFactoryWeight.touched),name:"exportToFactoryWeight",id:"exportToFactoryWeight",inputProps:{decimalScale:1},InputProps:{inputComponent:Y.a},label:"Tr\u1ecdng l\u01b0\u1ee3ng",margin:"normal",value:t.exportToFactoryWeight.value},u.elementConfig,{onChange:function(o){return t.exportToFactoryWeightChanged(o,u.validation)}})),$(k.a,{margin:"normal",error:!!(!t.goldUnitId.valid&t.goldUnitId.touched)},$(G.a,{htmlFor:"goldUnit-select"},"\u0110\u01a1n v\u1ecb"),$(S.a,Object(i.a)({native:!0,error:!!(!t.goldUnitId.valid&t.goldUnitId.touched),inputProps:{name:"goldUnitId",id:"goldUnit-select"},open:a},y.elementConfig,{onClose:function(){n(!1)},onOpen:function(){n(!0)},value:t.goldUnitId.value,onChange:function(o){return t.exportToFactoryGoldUnitIdChanged(o,y.validation)}}),$("option",{key:"-1","aria-label":"None",value:""}),t.goldUnitList.goldUnits.map((function(t,o){return $("option",{key:t.id+o,value:t.id},t.name)})))),$(Q.a,Object(i.a)({className:o.textField,error:!!(!t.exportToFactoryQuantity.valid&t.exportToFactoryQuantity.touched),name:"exportToFactoryQuantity",id:"exportToFactoryQuantity",inputProps:{decimalScale:0},InputProps:{inputComponent:Y.a},label:"S\u1ed1 l\u01b0\u1ee3ng",margin:"normal",value:t.exportToFactoryQuantity.value},m.elementConfig,{onChange:function(o){return t.exportToFactoryQuantityChanged(o,m.validation)}}))),$(T.a,{item:!0,xs:12},$(b.a,{variant:"contained",color:"primary",size:"small",startIcon:$(q.a,null),onClick:t.exportToFactoryAddDetailHandler},"Th\xeam m\u1edbi")),$(T.a,{item:!0,xs:12},$("div",{className:o.detail},$(Z.a,{rowCount:t.exportToFactoryDetails.length,rowGetter:function(o){var e=o.index,r=t.productList.products.find((function(o){return o.id==t.exportToFactoryDetails[e].productId}));t.exportToFactoryDetails[e].productName=r?r.name:"";var a=t.goldTypeList.goldTypes.find((function(o){return o.id==t.exportToFactoryDetails[e].goldTypeId}));t.exportToFactoryDetails[e].goldTypeName=a?a.name:"";var n=t.goldUnitList.goldUnits.find((function(o){return o.id==t.exportToFactoryDetails[e].goldUnitId}));return t.exportToFactoryDetails[e].goldUnitName=n?n.name:"",t.exportToFactoryDetails[e]},onRowClick:function(o){t.exportToFactoryDetailEdit(o,o.rowData)},columns:[{width:200,flexGrow:1,label:"S\u1ea3n ph\u1ea9m",dataKey:"productName"},{width:200,flexGrow:1,label:"Lo\u1ea1i v\xe0ng",dataKey:"goldTypeName"},{width:90,label:"Tr\u1ecdng l\u01b0\u1ee3ng",dataKey:"weight",numeric:!0},{width:200,flexGrow:1,label:"\u0110\u01a1n v\u1ecb",dataKey:"goldUnitName"},{width:90,label:"S\u1ed1 l\u01b0\u1ee3ng",dataKey:"quantity",numeric:!0}]}))),$(T.a,{item:!0,xs:12},$(b.a,{variant:"contained",color:"primary",size:"small",startIcon:$(q.a,null),onClick:t.exportToFactoryCreateHandler},"T\u1ea1o m\u1edbi"),$(b.a,{variant:"contained",color:"primary",size:"small",startIcon:$(M.a,null),type:"submit"},"L\u01b0u"))))},pt=(e("tVbE"),e("IsqK"),e("c7k8"),e("iuhU"),p.a.createElement);var lt={en:_.a,vi:J.a},dt=Object(U.a)((function(t){return{root:{width:"100%",height:"100%",backgroundColor:t.palette.background.paper},listItem:{display:"flex",alignItems:"center",justifyContent:"flex-start"},rowOdd:{backgroundColor:"#f1f1f1"},rowEven:{backgroundColor:"#f8f8f0"}}}));var st=function(t){var o=dt(),e=p.a.useState(!1),r=Object(w.a)(e,2),a=(r[0],r[1]);p.a.useEffect((function(){var t=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test("".concat(window.navigator.userAgent.toLowerCase()));a(Boolean(t))}),[]);return pt("div",{className:o.root},pt(Z.a,{rowCount:t.exportToFactorys.length,rowGetter:function(o){var e,r=o.index;return t.exportToFactorys[r].exportToFactoryDate=(e=t.exportToFactorys[r].exportToFactoryDate)?Object(X.a)(new Date(e),"dd/MM/yyyy",{locale:lt.vi}):"",t.exportToFactorys[r]},onRowClick:function(o){t.exportToFactoryEdit(o,o.rowData)},columns:[{width:200,flexGrow:1,label:"M\xe3",dataKey:"code"},{width:200,flexGrow:1,label:"M\xf4 t\u1ea3",dataKey:"description"},{width:90,label:"Tr\u1ecdng l\u01b0\u1ee3ng (ly)",dataKey:"weightLyTotal",numeric:!0},{width:90,label:"S\u1ed1 l\u01b0\u1ee3ng",dataKey:"quantityTotal",numeric:!0},{width:120,flexGrow:.5,label:"Ng\xe0y mua",dataKey:"exportToFactoryDate"}]}))},ut=e("MoyI"),yt=e("gEaM"),mt=e("DL1K"),Ft=e("eAqC"),ht=e("huz2"),gt=e("YdsX"),ft=e("gc+U"),Tt=e("xQkz"),bt=e("tErf"),xt=e("vfZy"),vt=e("VEid"),Dt=e("0BeC"),Ct=p.a.createElement;function Ot(t){var o=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=Object(m.a)(t);if(o){var a=Object(m.a)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return Object(y.a)(this,e)}}var It=function(t){Object(u.a)(e,t);var o=Ot(e);function e(){var t;Object(l.a)(this,e);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t=o.call.apply(o,[this].concat(a)),Object(F.a)(Object(s.a)(t),"state",{isDialogOpen:!1,dialogContent:null,isOpenAlert:!1,alertContent:null,selectedItem:null,selectedItemType:null}),Object(F.a)(Object(s.a)(t),"exportToFactoryCodeFocusHandler",(function(o){o.preventDefault(),t.props.exportToFactoryCodeFocusDispatch()})),Object(F.a)(Object(s.a)(t),"exportToFactoryCodeChangedHandler",(function(o,e){o.preventDefault(),t.props.exportToFactoryCodeChangedDispatch(o.target.value,e)})),Object(F.a)(Object(s.a)(t),"exportToFactoryEmployeeIdFocusHandler",(function(o){o.preventDefault(),t.props.exportToFactoryEmployeeIdFocusDispatch()})),Object(F.a)(Object(s.a)(t),"exportToFactoryEmployeeIdChangeHandler",(function(o,e,r){o.preventDefault();var a=null;e&&(a=e.id),t.props.exportToFactoryEmployeeIdChangeDispatch(a,r)})),Object(F.a)(Object(s.a)(t),"exportToFactoryProductIdFocusHandler",(function(o){o.preventDefault(),t.props.exportToFactoryProductIdFocusDispatch()})),Object(F.a)(Object(s.a)(t),"exportToFactoryProductIdChangeHandler",(function(o,e,r){o.preventDefault();var a=null;e&&(a=e.id),t.props.exportToFactoryProductIdChangeDispatch(a,r)})),Object(F.a)(Object(s.a)(t),"exportToFactoryGoldTypeIdFocusHandler",(function(o){o.preventDefault(),t.props.exportToFactoryGoldTypeIdFocusDispatch()})),Object(F.a)(Object(s.a)(t),"exportToFactoryGoldTypeIdChangeHandler",(function(o,e,r){o.preventDefault();var a=null;e&&(a=e.id),t.props.exportToFactoryGoldTypeIdChangeDispatch(a,r)})),Object(F.a)(Object(s.a)(t),"exportToFactoryGoldUnitIdFocusHandler",(function(o){o.preventDefault(),t.props.exportToFactoryGoldUnitIdFocusDispatch()})),Object(F.a)(Object(s.a)(t),"exportToFactoryGoldUnitIdChangeHandler",(function(o,e){o.preventDefault(),t.props.exportToFactoryGoldUnitIdChangeDispatch(o.target.value,e)})),Object(F.a)(Object(s.a)(t),"exportToFactoryNoteFocusHandler",(function(){t.props.exportToFactoryNoteFocusDispatch()})),Object(F.a)(Object(s.a)(t),"exportToFactoryNoteChangedHandler",(function(o,e){o.preventDefault(),t.props.exportToFactoryNoteChangedDispatch(o.target.value,e)})),Object(F.a)(Object(s.a)(t),"exportToFactoryWeightFocusHandler",(function(){t.props.exportToFactoryWeightFocusDispatch()})),Object(F.a)(Object(s.a)(t),"exportToFactoryWeightChangedHandler",(function(o,e){t.props.exportToFactoryWeightChangedDispatch(o.target.value,e)})),Object(F.a)(Object(s.a)(t),"exportToFactoryQuantityFocusHandler",(function(){t.props.exportToFactoryQuantityFocusDispatch()})),Object(F.a)(Object(s.a)(t),"exportToFactoryQuantityChangedHandler",(function(o,e){t.props.exportToFactoryQuantityChangedDispatch(o.target.value,e)})),Object(F.a)(Object(s.a)(t),"exportToFactoryDateFocusHandler",(function(){t.props.exportToFactoryDateFocusDispatch()})),Object(F.a)(Object(s.a)(t),"exportToFactoryDateChangedHandler",(function(o,e){t.props.exportToFactoryDateChangedDispatch(o.target.value,e)})),Object(F.a)(Object(s.a)(t),"exportToFactoryCreateHandler",(function(o){o.preventDefault(),t.props.exportToFactoryCreateDispatch()})),Object(F.a)(Object(s.a)(t),"exportToFactoryAddDetailHandler",(function(o){o.preventDefault();var e={productId:t.props.exportToFactoryEdit.productId.value,goldTypeId:t.props.exportToFactoryEdit.goldTypeId.value,goldUnitId:t.props.exportToFactoryEdit.goldUnitId.value,weight:t.props.exportToFactoryEdit.exportToFactoryWeight.value,quantity:t.props.exportToFactoryEdit.exportToFactoryQuantity.value};t.props.exportToFactoryAddDetailDispatch(e)})),Object(F.a)(Object(s.a)(t),"exportToFactoryDetailEditHandler",(function(o,e){t.props.exportToFactoryDetailEditDispatch(e)})),Object(F.a)(Object(s.a)(t),"exportToFactorySaveHandler",(function(o){o.preventDefault();var e=localStorage.getItem("userId"),r={code:t.props.exportToFactoryEdit.exportToFactoryCode.value,senderId:e,receiverId:t.props.exportToFactoryEdit.employeeId.value,exportToFactoryDate:t.props.exportToFactoryEdit.exportToFactoryDate.value,note:t.props.exportToFactoryEdit.exportToFactoryNote.value,exportToFactoryDetails:t.props.exportToFactoryEdit.exportToFactoryDetails};t.props.exportToFactoryEdit.id?(r.id=t.props.exportToFactoryEdit.id,r.version=t.props.exportToFactoryEdit.version,t.props.exportToFactoryUpdateDispatch(t.props.exportToFactoryEdit.id,r)):t.props.exportToFactoryAddDispatch(r),t.setState({selectedItem:null,selectedItemType:null,alertContent:"L\u01b0u"})})),Object(F.a)(Object(s.a)(t),"exportToFactoryEditHandler",(function(o,e){t.props.exportToFactoryEditDispatch(e),t.setState({selectedItem:e,selectedItemType:"edit"})})),Object(F.a)(Object(s.a)(t),"exportToFactoryDeleteHandler",(function(o,e){o.preventDefault(),t.setState({isDialogOpen:!0,dialogContent:e.code+" s\u1ebd b\u1ecb x\xf3a?",selectedItem:e,selectedItemType:"delete"})})),Object(F.a)(Object(s.a)(t),"dialogClose",(function(o,e){o.preventDefault(),e?(t.props.exportToFactoryDeleteDispatch(t.state.selectedItem.id,t.state.selectedItem.version),t.setState({isDialogOpen:!1,selectedItem:null,selectedItemType:null})):t.setState({isDialogOpen:!1})})),Object(F.a)(Object(s.a)(t),"PaperComponent",(function(t){return Ct(E.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]'},Ct(I.a,t))})),Object(F.a)(Object(s.a)(t),"handleCloseAlert",(function(){t.setState({isOpenAlert:!1})})),t}return Object(d.a)(e,[{key:"componentDidMount",value:function(){this.props.deptListDispatch(),this.props.employeeListDispatch(),this.props.productTypeListDispatch(),this.props.productListDispatch(),this.props.goldTypeListDispatch(),this.props.goldUnitListDispatch(),this.props.exportToFactoryListDispatch()}},{key:"componentDidUpdate",value:function(){(this.props.error&&this.props.error.response&&401==this.props.error.response.status||this.props.deptError&&this.props.deptError.response&&401==this.props.deptError.response.status||this.props.employeeError&&this.props.employeeError.response&&401==this.props.employeeError.response.status||this.props.productTypeError&&this.props.productTypeError.response&&401==this.props.productTypeError.response.status||this.props.productError&&this.props.productError.response&&401==this.props.productError.response.status||this.props.goldTypeError&&this.props.goldTypeError.response&&401==this.props.goldTypeError.response.status||this.props.goldUnitError&&this.props.goldUnitError.response&&401==this.props.goldUnitError.response.status)&&this.props.onLogout()}},{key:"render",value:function(){var t=this;console.log((new Date).toLocaleString()+" ............ ExportToFactoryContainer render");var o=this.props.classes;return Ct("div",{className:o.root},Ct(ut.a,{show:this.props.error,modalClosed:this.errorConfirmedHandler},this.props.error?this.props.error.message:"<<Error>>"),Ct(f.a,{open:this.state.isOpenAlert,onClose:this.handleCloseAlert,autoHideDuration:3e3},Ct(L.a,{onClose:this.handleCloseAlert,severity:"success"},this.state.alertContent+" th\xe0nh c\xf4ng.")),Ct(x.a,{open:this.state.isDialogOpen,onClose:function(o){return t.dialogClose(o)},PaperComponent:this.PaperComponent,"aria-labelledby":"draggable-dialog-title"},Ct(O.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"C\u1ea3nh b\xe1o"),Ct(D.a,null,Ct(C.a,null,this.state.dialogContent)),Ct(v.a,null,Ct(b.a,{autoFocus:!0,onClick:function(o){return t.dialogClose(o)},color:"primary"},"H\u1ee7y"),Ct(b.a,{onClick:function(o){return t.dialogClose(o,!0)},color:"primary"},"\u0110\u1ed3ng \xfd"))),Ct(T.a,null,Ct(T.a,{item:!0,xs:12},Ct(I.a,null,"Xu\u1ea5t cho th\u1ee3")),Ct(T.a,{item:!0,xs:12},Ct(T.a,{className:o.grid},Ct(T.a,{item:!0,xs:12},Ct(T.a,null,Ct(T.a,{item:!0,xs:12},this.props.exportToFactoryEdit.waiting?Ct(yt.a,null):Ct(ct,Object(i.a)({},this.props.exportToFactoryEdit,{deptList:this.props.deptList,employeeList:this.props.employeeList,productTypeList:this.props.productTypeList,productList:this.props.productList,goldTypeList:this.props.goldTypeList,goldUnitList:this.props.goldUnitList,exportToFactoryCodeFocusHandler:this.exportToFactoryCodeFocusHandler,exportToFactoryCodeChanged:this.exportToFactoryCodeChangedHandler,exportToFactoryEmployeeIdChanged:this.exportToFactoryEmployeeIdChangeHandler,exportToFactoryEmployeeIdFocusHandler:this.exportToFactoryEmployeeIdFocusHandler,exportToFactoryProductIdChanged:this.exportToFactoryProductIdChangeHandler,exportToFactoryProductIdFocusHandler:this.exportToFactoryProductIdFocusHandler,exportToFactoryGoldTypeIdChanged:this.exportToFactoryGoldTypeIdChangeHandler,exportToFactoryGoldTypeIdFocusHandler:this.exportToFactoryGoldTypeIdFocusHandler,exportToFactoryGoldUnitIdChanged:this.exportToFactoryGoldUnitIdChangeHandler,exportToFactoryGoldUnitIdFocusHandler:this.exportToFactoryGoldUnitIdFocusHandler,exportToFactoryNoteFocusHandler:this.exportToFactoryNoteFocusHandler,exportToFactoryNoteChanged:this.exportToFactoryNoteChangedHandler,exportToFactoryWeightFocusHandler:this.exportToFactoryWeightFocusHandler,exportToFactoryWeightChanged:this.exportToFactoryWeightChangedHandler,exportToFactoryQuantityFocusHandler:this.exportToFactoryQuantityFocusHandler,exportToFactoryQuantityChanged:this.exportToFactoryQuantityChangedHandler,exportToFactoryDateFocusHandler:this.exportToFactoryDateFocusHandler,exportToFactoryDateChanged:this.exportToFactoryDateChangedHandler,exportToFactoryCreateHandler:this.exportToFactoryCreateHandler,exportToFactoryAddDetailHandler:this.exportToFactoryAddDetailHandler,exportToFactorySaveHandler:this.exportToFactorySaveHandler,exportToFactoryDetailEdit:this.exportToFactoryDetailEditHandler}))))),Ct(T.a,{item:!0,xs:12},Ct(T.a,null,Ct(T.a,{item:!0,xs:12,className:o.list},this.props.exportToFactoryList.waiting?Ct(yt.a,null):Ct(st,Object(i.a)({},this.props.exportToFactoryList,{deptList:this.props.deptList,employeeList:this.props.employeeList,productTypeList:this.props.productTypeList,productList:this.props.productList,goldTypeList:this.props.goldTypeList,goldUnitList:this.props.goldUnitList,exportToFactoryEdit:this.exportToFactoryEditHandler,exportToFactoryDelete:this.exportToFactoryDeleteHandler})))))))))}}]),e}(c.Component),jt=Object(h.b)((function(t){return{exportToFactoryEdit:t.exportToFactory.exportToFactoryEdit,exportToFactoryList:t.exportToFactory.exportToFactoryList,deptList:t.dept.deptList,employeeList:t.employee.employeeList,productTypeList:t.productType.productTypeList,productList:t.product.productList,goldTypeList:t.goldType.goldTypeList,goldUnitList:t.goldUnit.goldUnitList,error:t.exportToFactory.error,deptError:t.dept.error,employeeError:t.employee.error,productTypeError:t.productType.error,productError:t.product.error,goldTypeError:t.goldType.error,goldUnitError:t.goldUnit.error}}),(function(t){return{exportToFactoryCodeFocusDispatch:function(){return t(ht.e())},exportToFactoryCodeChangedDispatch:function(o,e){return t(ht.d(o,e))},exportToFactoryEmployeeIdFocusDispatch:function(){return t(ht.o())},exportToFactoryEmployeeIdChangeDispatch:function(o,e){return t(ht.n(o,e))},exportToFactoryProductIdFocusDispatch:function(){return t(ht.A())},exportToFactoryProductIdChangeDispatch:function(o,e){return t(ht.z(o,e))},exportToFactoryGoldTypeIdFocusDispatch:function(){return t(ht.s())},exportToFactoryGoldTypeIdChangeDispatch:function(o,e){return t(ht.r(o,e))},exportToFactoryGoldUnitIdFocusDispatch:function(){return t(ht.u())},exportToFactoryGoldUnitIdChangeDispatch:function(o,e){return t(ht.t(o,e))},exportToFactoryNoteFocusDispatch:function(){return t(ht.y())},exportToFactoryNoteChangedDispatch:function(o,e){return t(ht.x(o,e))},exportToFactoryWeightFocusDispatch:function(){return t(ht.G())},exportToFactoryWeightChangedDispatch:function(o,e){return t(ht.F(o,e))},exportToFactoryQuantityFocusDispatch:function(){return t(ht.C())},exportToFactoryQuantityChangedDispatch:function(o,e){return t(ht.B(o,e))},exportToFactoryDateFocusDispatch:function(){return t(ht.h())},exportToFactoryDateChangedDispatch:function(o,e){return t(ht.g(o,e))},exportToFactoryCreateDispatch:function(){return t(ht.f())},exportToFactoryAddDetailDispatch:function(o){return t(ht.b(o))},exportToFactoryAddDispatch:function(o){return t(ht.a(o))},exportToFactoryEditDispatch:function(o){return t(ht.l(o))},exportToFactoryUpdateDispatch:function(o,e){return t(ht.D(o,e))},exportToFactoryDetailEditDispatch:function(o){return t(ht.k(o))},exportToFactoryDeleteDispatch:function(o,e){return t(ht.i(o,e))},exportToFactoryListDispatch:function(){return t(ht.v())},exportToFactoryErrorHandledDispatch:function(){return t(ht.q())},deptListDispatch:function(){return t(gt.k())},employeeListDispatch:function(){return t(ft.l())},productTypeListDispatch:function(){return t(Tt.k())},productListDispatch:function(){return t(bt.k())},goldTypeListDispatch:function(){return t(xt.m())},goldUnitListDispatch:function(){return t(vt.m())},onLogout:function(){return t(Dt.g())}}}))(Object(mt.a)(Object(j.a)((function(t){return{root:{flexGrow:1,height:"100%"},grid:Object(F.a)({height:"100%",width:"100%",alignItems:"flex-start",justifyContent:"flex-start"},t.breakpoints.up("sm"),{display:"flex",flexWrap:"wrap",boxSizing:"border-box"}),list:Object(F.a)({height:"50vh",border:"1px solid #d9dddd"},t.breakpoints.up("sm"),{height:"90vh"}),paper:{padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary}}}))(It),Ft.a)),Lt=p.a.createElement;function Ht(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),e.push.apply(e,r)}return e}function Et(t){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?Ht(Object(e),!0).forEach((function(o){Object(F.a)(t,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Ht(Object(e)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))}))}return t}function wt(t){var o=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=Object(m.a)(t);if(o){var a=Object(m.a)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return Object(y.a)(this,e)}}var Ut=function(t){Object(u.a)(e,t);var o=wt(e);function e(){return Object(l.a)(this,e),o.apply(this,arguments)}return Object(d.a)(e,[{key:"getDatePickerHeaderText",value:function(t){return Object(X.a)(t,"dd/MM/yyyy",{locale:this.locale})}}]),e}(B.a),Nt={en:_.a,vi:J.a},Pt={en:B.a,vi:Ut},kt=Object(U.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},detail:{width:"100%",height:"300px",backgroundColor:t.palette.background.paper},option:{width:"auto","& input":{width:"auto",background:W.a}},popper:{width:"fit-content"},textField:{width:"auto",marginLeft:t.spacing(1),marginRight:t.spacing(1)}}})),Gt=function(t){var o=kt(),e=p.a.useState(!1),r=Object(w.a)(e,2),a=r[0],n=r[1],c={elementConfig:{type:"input",placeholder:"Nh\u1eadp m\xe3",onFocus:t.importFromFactoryCodeFocusHandler,autoFocus:t.importFromFactoryCode.autoFocus},validation:{required:!0,minLength:1}},l={elementConfig:{type:"select",placeholder:"Ch\u1ecdn s\u1ea3n ph\u1ea9m",onFocus:t.importFromFactoryEmployeeIdFocusHandler},validation:{required:!0}},d={elementConfig:{type:"select",placeholder:"Ch\u1ecdn s\u1ea3n ph\u1ea9m",onFocus:t.importFromFactoryProductIdFocusHandler},validation:{required:!0}},s={elementConfig:{type:"select",placeholder:"Ch\u1ecdn s\u1ea3n ph\u1ea9m",onFocus:t.importFromFactoryGoldTypeIdFocusHandler},validation:{required:!0}},u={elementConfig:{type:"text",placeholder:"Nh\u1eadp tr\u1ecdng l\u01b0\u1ee3ng",onFocus:t.importFromFactoryWeightFocusHandler,autoFocus:t.importFromFactoryWeight.autoFocus},validation:{required:!0,minValue:.1,maxValue:999999999.9}},y={elementConfig:{type:"select",placeholder:"\u0110\u01a1n v\u1ecb",onFocus:t.importFromFactoryGoldUnitIdFocusHandler},validation:{required:!0}},m={elementConfig:{type:"text",placeholder:"Nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng",onFocus:t.importFromFactoryQuantityFocusHandler,autoFocus:t.importFromFactoryQuantity.autoFocus},validation:{required:!0,minValue:1,maxValue:999}},F={elementConfig:{type:"text",placeholder:"Ng\xe0y nh\u1eadp",onFocus:t.importFromFactoryDateFocusHandler,autoFocus:t.importFromFactoryDate.autoFocus},validation:{required:!0}},h={elementConfig:{type:"input",placeholder:"Nh\u1eadp ghi ch\xfa",onFocus:t.importFromFactoryNoteFocusHandler,autoFocus:t.importFromFactoryNote.autoFocus},validation:{}},g=function(t,o){if(!t||!o)return!1;var e=t.id;e||(e=t);var r=o.id;return r||(r=o),e===r};return Lt("form",{onSubmit:t.importFromFactorySaveHandler},Lt(T.a,null,Lt(T.a,{item:!0,xs:12,className:o.root},Lt(Q.a,Object(i.a)({className:o.textField,required:!0,error:!!(!t.importFromFactoryCode.valid&t.importFromFactoryCode.touched),inputProps:{name:"importFromFactoryCode",id:"importFromFactoryCode"},label:"M\xe3",margin:"normal"},c.elementConfig,{value:t.importFromFactoryCode.value,onChange:function(o){return t.importFromFactoryCodeChanged(o,c.validation)}})),Lt(K.a,{id:"employeeId-select",options:t.employeeList.employees,classes:{option:o.option},autoHighlight:!0,value:t.employeeId.value,onChange:function(o,e){t.importFromFactoryEmployeeIdChanged(o,e,l.validation)},groupBy:function(t){return t.deptId},renderGroup:function(o){return[Lt(N.a,{key:o.group,component:"div"},t.deptList.depts.find((function(t){return t.id==o.group})).description),o.children]},getOptionLabel:function(o){if(o&&o.id)return o.name;var e=t.employeeList.employees.find((function(t){return t.id==o}));return e?e.name:""},getOptionSelected:g,renderOption:function(t){return Lt(p.a.Fragment,null,t.description)},renderInput:function(o){return Lt(Q.a,Object(i.a)({},o,{inputProps:Et(Et({},o.inputProps),{},{name:"employeeId-option",id:"employeeId-option"}),style:{minWidth:200},required:!0,label:"Nh\u1eadp t\u1eeb",margin:"normal",error:!!(!t.employeeId.valid&t.employeeId.touched)},l.elementConfig))}}),Lt(z.a,{utils:Pt.vi,locale:Nt.vi},Lt(V.a,Object(i.a)({clearable:!0,required:!0,error:!!(!t.importFromFactoryDate.valid&t.importFromFactoryDate.touched),name:"importFromFactoryDate",id:"importFromFactoryDate",format:"dd/MM/yyyy",todayLabel:"H\xf4m nay",cancelLabel:"H\u1ee7y",clearLabel:"X\xf3a",okLabel:"Ch\u1ecdn",label:"Ng\xe0y nh\u1eadp",margin:"normal",value:t.importFromFactoryDate.value},F.elementConfig,{onChange:function(o){return t.importFromFactoryDateChanged({target:{value:o}},F.validation)}}))),Lt(Q.a,{disabled:!0,name:"importFromFactoryWeightTotal",id:"importFromFactoryWeightTotal",label:"T\u1ed5ng tr\u1ecdng l\u01b0\u1ee3ng",margin:"normal",value:t.weightTotal}),Lt(Q.a,{disabled:!0,name:"importFromFactoryQuantityTotal",id:"importFromFactoryQuantityTotal",label:"T\u1ed5ng s\u1ed1 l\u01b0\u1ee3ng",margin:"normal",value:t.quantityTotal}),Lt(P.a,Object(i.a)({rowsMin:4,className:o.textField,error:!t.importFromFactoryNote.valid&t.importFromFactoryNote.touched?"true":"false",name:"importFromFactoryNote",id:"importFromFactoryNote",label:"Ghi ch\xfa",margin:"normal"},h.elementConfig,{value:t.importFromFactoryNote.value,onChange:function(o){return t.importFromFactoryNoteChanged(o,h.validation)}}))),Lt(T.a,{item:!0,xs:12,className:o.root},Lt(K.a,{id:"productId-select",options:t.productList.products,classes:{option:o.option},autoHighlight:!0,value:t.productId.value,onChange:function(o,e){t.importFromFactoryProductIdChanged(o,e,d.validation)},groupBy:function(t){return t.productTypeId},renderGroup:function(o){return[Lt(N.a,{key:o.group,component:"div"},t.productTypeList.productTypes.find((function(t){return t.id==o.group})).description),o.children]},getOptionLabel:function(o){if(o&&o.id)return o.name;var e=t.productList.products.find((function(t){return t.id==o}));return e?e.name:""},getOptionSelected:g,renderOption:function(t){return Lt(p.a.Fragment,null,t.description)},renderInput:function(o){return Lt(Q.a,Object(i.a)({},o,{inputProps:Et(Et({},o.inputProps),{},{name:"productId-option",id:"productId-option"}),style:{minWidth:200},label:"S\u1ea3n ph\u1ea9m",margin:"normal",error:!!(!t.productId.valid&t.productId.touched)},d.elementConfig))}}),Lt(K.a,{id:"goldTypeId-select",options:t.goldTypeList.goldTypes,classes:{option:o.option},autoHighlight:!0,value:t.goldTypeId.value,onChange:function(o,e){t.importFromFactoryGoldTypeIdChanged(o,e,s.validation)},getOptionLabel:function(o){if(o&&o.id)return o.name;var e=t.goldTypeList.goldTypes.find((function(t){return t.id==o}));return e?e.name:""},getOptionSelected:g,renderOption:function(t){return Lt(p.a.Fragment,null,t.description)},renderInput:function(o){return Lt(Q.a,Object(i.a)({},o,{inputProps:Et(Et({},o.inputProps),{},{name:"goldTypeId-option",id:"goldTypeId-option"}),style:{minWidth:200},label:"Lo\u1ea1i v\xe0ng",margin:"normal",error:!!(!t.goldTypeId.valid&t.goldTypeId.touched)},s.elementConfig))}}),Lt(Q.a,Object(i.a)({className:o.textField,error:!!(!t.importFromFactoryWeight.valid&t.importFromFactoryWeight.touched),name:"importFromFactoryWeight",id:"importFromFactoryWeight",inputProps:{decimalScale:1},InputProps:{inputComponent:Y.a},label:"Tr\u1ecdng l\u01b0\u1ee3ng",margin:"normal",value:t.importFromFactoryWeight.value},u.elementConfig,{onChange:function(o){return t.importFromFactoryWeightChanged(o,u.validation)}})),Lt(k.a,{margin:"normal",error:!!(!t.goldUnitId.valid&t.goldUnitId.touched)},Lt(G.a,{htmlFor:"goldUnit-select"},"\u0110\u01a1n v\u1ecb"),Lt(S.a,Object(i.a)({native:!0,error:!!(!t.goldUnitId.valid&t.goldUnitId.touched),inputProps:{name:"goldUnitId",id:"goldUnit-select"},open:a},y.elementConfig,{onClose:function(){n(!1)},onOpen:function(){n(!0)},value:t.goldUnitId.value,onChange:function(o){return t.importFromFactoryGoldUnitIdChanged(o,y.validation)}}),Lt("option",{key:"-1","aria-label":"None",value:""}),t.goldUnitList.goldUnits.map((function(t,o){return Lt("option",{key:t.id+o,value:t.id},t.name)})))),Lt(Q.a,Object(i.a)({className:o.textField,error:!!(!t.importFromFactoryQuantity.valid&t.importFromFactoryQuantity.touched),name:"importFromFactoryQuantity",id:"importFromFactoryQuantity",inputProps:{decimalScale:0},InputProps:{inputComponent:Y.a},label:"S\u1ed1 l\u01b0\u1ee3ng",margin:"normal",value:t.importFromFactoryQuantity.value},m.elementConfig,{onChange:function(o){return t.importFromFactoryQuantityChanged(o,m.validation)}}))),Lt(T.a,{item:!0,xs:12},Lt(b.a,{variant:"contained",color:"primary",size:"small",startIcon:Lt(q.a,null),onClick:t.importFromFactoryAddDetailHandler},"Th\xeam m\u1edbi")),Lt(T.a,{item:!0,xs:12},Lt("div",{className:o.detail},Lt(Z.a,{rowCount:t.importFromFactoryDetails.length,rowGetter:function(o){var e=o.index,r=t.productList.products.find((function(o){return o.id==t.importFromFactoryDetails[e].productId}));t.importFromFactoryDetails[e].productName=r?r.name:"";var a=t.goldTypeList.goldTypes.find((function(o){return o.id==t.importFromFactoryDetails[e].goldTypeId}));t.importFromFactoryDetails[e].goldTypeName=a?a.name:"";var n=t.goldUnitList.goldUnits.find((function(o){return o.id==t.importFromFactoryDetails[e].goldUnitId}));return t.importFromFactoryDetails[e].goldUnitName=n?n.name:"",t.importFromFactoryDetails[e]},onRowClick:function(o){t.importFromFactoryDetailEdit(o,o.rowData)},columns:[{width:200,flexGrow:1,label:"S\u1ea3n ph\u1ea9m",dataKey:"productName"},{width:200,flexGrow:1,label:"Lo\u1ea1i v\xe0ng",dataKey:"goldTypeName"},{width:90,label:"Tr\u1ecdng l\u01b0\u1ee3ng",dataKey:"weight",numeric:!0},{width:200,flexGrow:1,label:"\u0110\u01a1n v\u1ecb",dataKey:"goldUnitName"},{width:90,label:"S\u1ed1 l\u01b0\u1ee3ng",dataKey:"quantity",numeric:!0}]}))),Lt(T.a,{item:!0,xs:12},Lt(b.a,{variant:"contained",color:"primary",size:"small",startIcon:Lt(q.a,null),onClick:t.importFromFactoryCreateHandler},"T\u1ea1o m\u1edbi"),Lt(b.a,{variant:"contained",color:"primary",size:"small",startIcon:Lt(M.a,null),type:"submit"},"L\u01b0u"))))},St=p.a.createElement;var Wt={en:_.a,vi:J.a},Qt=Object(U.a)((function(t){return{root:{width:"100%",height:"100%",backgroundColor:t.palette.background.paper},listItem:{display:"flex",alignItems:"center",justifyContent:"flex-start"},rowOdd:{backgroundColor:"#f1f1f1"},rowEven:{backgroundColor:"#f8f8f0"}}}));var At=function(t){var o=Qt(),e=p.a.useState(!1),r=Object(w.a)(e,2),a=(r[0],r[1]);p.a.useEffect((function(){var t=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test("".concat(window.navigator.userAgent.toLowerCase()));a(Boolean(t))}),[]);return St("div",{className:o.root},St(Z.a,{rowCount:t.importFromFactorys.length,rowGetter:function(o){var e,r=o.index;return t.importFromFactorys[r].importFromFactoryDate=(e=t.importFromFactorys[r].importFromFactoryDate)?Object(X.a)(new Date(e),"dd/MM/yyyy",{locale:Wt.vi}):"",t.importFromFactorys[r]},onRowClick:function(o){t.importFromFactoryEdit(o,o.rowData)},columns:[{width:200,flexGrow:1,label:"M\xe3",dataKey:"code"},{width:200,flexGrow:1,label:"M\xf4 t\u1ea3",dataKey:"description"},{width:90,label:"Tr\u1ecdng l\u01b0\u1ee3ng (ly)",dataKey:"weightLyTotal",numeric:!0},{width:90,label:"S\u1ed1 l\u01b0\u1ee3ng",dataKey:"quantityTotal",numeric:!0},{width:120,flexGrow:.5,label:"Ng\xe0y mua",dataKey:"importFromFactoryDate"}]}))},qt=e("Gb0u"),Rt=p.a.createElement;function Mt(t){var o=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=Object(m.a)(t);if(o){var a=Object(m.a)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return Object(y.a)(this,e)}}var Kt=function(t){Object(u.a)(e,t);var o=Mt(e);function e(){var t;Object(l.a)(this,e);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t=o.call.apply(o,[this].concat(a)),Object(F.a)(Object(s.a)(t),"state",{isDialogOpen:!1,dialogContent:null,isOpenAlert:!1,alertContent:null,selectedItem:null,selectedItemType:null}),Object(F.a)(Object(s.a)(t),"importFromFactoryCodeFocusHandler",(function(o){o.preventDefault(),t.props.importFromFactoryCodeFocusDispatch()})),Object(F.a)(Object(s.a)(t),"importFromFactoryCodeChangedHandler",(function(o,e){o.preventDefault(),t.props.importFromFactoryCodeChangedDispatch(o.target.value,e)})),Object(F.a)(Object(s.a)(t),"importFromFactoryEmployeeIdFocusHandler",(function(o){o.preventDefault(),t.props.importFromFactoryEmployeeIdFocusDispatch()})),Object(F.a)(Object(s.a)(t),"importFromFactoryEmployeeIdChangeHandler",(function(o,e,r){o.preventDefault();var a=null;e&&(a=e.id),t.props.importFromFactoryEmployeeIdChangeDispatch(a,r)})),Object(F.a)(Object(s.a)(t),"importFromFactoryProductIdFocusHandler",(function(o){o.preventDefault(),t.props.importFromFactoryProductIdFocusDispatch()})),Object(F.a)(Object(s.a)(t),"importFromFactoryProductIdChangeHandler",(function(o,e,r){o.preventDefault();var a=null;e&&(a=e.id),t.props.importFromFactoryProductIdChangeDispatch(a,r)})),Object(F.a)(Object(s.a)(t),"importFromFactoryGoldTypeIdFocusHandler",(function(o){o.preventDefault(),t.props.importFromFactoryGoldTypeIdFocusDispatch()})),Object(F.a)(Object(s.a)(t),"importFromFactoryGoldTypeIdChangeHandler",(function(o,e,r){o.preventDefault();var a=null;e&&(a=e.id),t.props.importFromFactoryGoldTypeIdChangeDispatch(a,r)})),Object(F.a)(Object(s.a)(t),"importFromFactoryGoldUnitIdFocusHandler",(function(o){o.preventDefault(),t.props.importFromFactoryGoldUnitIdFocusDispatch()})),Object(F.a)(Object(s.a)(t),"importFromFactoryGoldUnitIdChangeHandler",(function(o,e){o.preventDefault(),t.props.importFromFactoryGoldUnitIdChangeDispatch(o.target.value,e)})),Object(F.a)(Object(s.a)(t),"importFromFactoryNoteFocusHandler",(function(){t.props.importFromFactoryNoteFocusDispatch()})),Object(F.a)(Object(s.a)(t),"importFromFactoryNoteChangedHandler",(function(o,e){o.preventDefault(),t.props.importFromFactoryNoteChangedDispatch(o.target.value,e)})),Object(F.a)(Object(s.a)(t),"importFromFactoryWeightFocusHandler",(function(){t.props.importFromFactoryWeightFocusDispatch()})),Object(F.a)(Object(s.a)(t),"importFromFactoryWeightChangedHandler",(function(o,e){t.props.importFromFactoryWeightChangedDispatch(o.target.value,e)})),Object(F.a)(Object(s.a)(t),"importFromFactoryQuantityFocusHandler",(function(){t.props.importFromFactoryQuantityFocusDispatch()})),Object(F.a)(Object(s.a)(t),"importFromFactoryQuantityChangedHandler",(function(o,e){t.props.importFromFactoryQuantityChangedDispatch(o.target.value,e)})),Object(F.a)(Object(s.a)(t),"importFromFactoryDateFocusHandler",(function(){t.props.importFromFactoryDateFocusDispatch()})),Object(F.a)(Object(s.a)(t),"importFromFactoryDateChangedHandler",(function(o,e){t.props.importFromFactoryDateChangedDispatch(o.target.value,e)})),Object(F.a)(Object(s.a)(t),"importFromFactoryCreateHandler",(function(o){o.preventDefault(),t.props.importFromFactoryCreateDispatch()})),Object(F.a)(Object(s.a)(t),"importFromFactoryAddDetailHandler",(function(o){o.preventDefault();var e={productId:t.props.importFromFactoryEdit.productId.value,goldTypeId:t.props.importFromFactoryEdit.goldTypeId.value,goldUnitId:t.props.importFromFactoryEdit.goldUnitId.value,weight:t.props.importFromFactoryEdit.importFromFactoryWeight.value,quantity:t.props.importFromFactoryEdit.importFromFactoryQuantity.value};t.props.importFromFactoryAddDetailDispatch(e)})),Object(F.a)(Object(s.a)(t),"importFromFactoryDetailEditHandler",(function(o,e){t.props.importFromFactoryDetailEditDispatch(e)})),Object(F.a)(Object(s.a)(t),"importFromFactorySaveHandler",(function(o){o.preventDefault();var e=localStorage.getItem("userId"),r={code:t.props.importFromFactoryEdit.importFromFactoryCode.value,senderId:e,receiverId:t.props.importFromFactoryEdit.employeeId.value,importFromFactoryDate:t.props.importFromFactoryEdit.importFromFactoryDate.value,note:t.props.importFromFactoryEdit.importFromFactoryNote.value,importFromFactoryDetails:t.props.importFromFactoryEdit.importFromFactoryDetails};t.props.importFromFactoryEdit.id?(r.id=t.props.importFromFactoryEdit.id,r.version=t.props.importFromFactoryEdit.version,t.props.importFromFactoryUpdateDispatch(t.props.importFromFactoryEdit.id,r)):t.props.importFromFactoryAddDispatch(r),t.setState({selectedItem:null,selectedItemType:null,alertContent:"L\u01b0u"})})),Object(F.a)(Object(s.a)(t),"importFromFactoryEditHandler",(function(o,e){t.props.importFromFactoryEditDispatch(e),t.setState({selectedItem:e,selectedItemType:"edit"})})),Object(F.a)(Object(s.a)(t),"importFromFactoryDeleteHandler",(function(o,e){o.preventDefault(),t.setState({isDialogOpen:!0,dialogContent:e.code+" s\u1ebd b\u1ecb x\xf3a?",selectedItem:e,selectedItemType:"delete"})})),Object(F.a)(Object(s.a)(t),"dialogClose",(function(o,e){o.preventDefault(),e?(t.props.importFromFactoryDeleteDispatch(t.state.selectedItem.id,t.state.selectedItem.version),t.setState({isDialogOpen:!1,selectedItem:null,selectedItemType:null})):t.setState({isDialogOpen:!1})})),Object(F.a)(Object(s.a)(t),"PaperComponent",(function(t){return Rt(E.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]'},Rt(I.a,t))})),Object(F.a)(Object(s.a)(t),"handleCloseAlert",(function(){t.setState({isOpenAlert:!1})})),t}return Object(d.a)(e,[{key:"componentDidMount",value:function(){this.props.deptListDispatch(),this.props.employeeListDispatch(),this.props.productTypeListDispatch(),this.props.productListDispatch(),this.props.goldTypeListDispatch(),this.props.goldUnitListDispatch(),this.props.importFromFactoryListDispatch()}},{key:"componentDidUpdate",value:function(){(this.props.error&&this.props.error.response&&401==this.props.error.response.status||this.props.deptError&&this.props.deptError.response&&401==this.props.deptError.response.status||this.props.employeeError&&this.props.employeeError.response&&401==this.props.employeeError.response.status||this.props.productTypeError&&this.props.productTypeError.response&&401==this.props.productTypeError.response.status||this.props.productError&&this.props.productError.response&&401==this.props.productError.response.status||this.props.goldTypeError&&this.props.goldTypeError.response&&401==this.props.goldTypeError.response.status||this.props.goldUnitError&&this.props.goldUnitError.response&&401==this.props.goldUnitError.response.status)&&this.props.onLogout()}},{key:"render",value:function(){var t=this;console.log((new Date).toLocaleString()+" ............ ImportFromFactoryContainer render");var o=this.props.classes;return Rt("div",{className:o.root},Rt(ut.a,{show:this.props.error,modalClosed:this.errorConfirmedHandler},this.props.error?this.props.error.message:"<<Error>>"),Rt(f.a,{open:this.state.isOpenAlert,onClose:this.handleCloseAlert,autoHideDuration:3e3},Rt(L.a,{onClose:this.handleCloseAlert,severity:"success"},this.state.alertContent+" th\xe0nh c\xf4ng.")),Rt(x.a,{open:this.state.isDialogOpen,onClose:function(o){return t.dialogClose(o)},PaperComponent:this.PaperComponent,"aria-labelledby":"draggable-dialog-title"},Rt(O.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"C\u1ea3nh b\xe1o"),Rt(D.a,null,Rt(C.a,null,this.state.dialogContent)),Rt(v.a,null,Rt(b.a,{autoFocus:!0,onClick:function(o){return t.dialogClose(o)},color:"primary"},"H\u1ee7y"),Rt(b.a,{onClick:function(o){return t.dialogClose(o,!0)},color:"primary"},"\u0110\u1ed3ng \xfd"))),Rt(T.a,null,Rt(T.a,{item:!0,xs:12},Rt(I.a,null,"Nh\u1eadp t\u1eeb th\u1ee3")),Rt(T.a,{item:!0,xs:12},Rt(T.a,{className:o.grid},Rt(T.a,{item:!0,xs:12},Rt(T.a,null,Rt(T.a,{item:!0,xs:12},this.props.importFromFactoryEdit.waiting?Rt(yt.a,null):Rt(Gt,Object(i.a)({},this.props.importFromFactoryEdit,{deptList:this.props.deptList,employeeList:this.props.employeeList,productTypeList:this.props.productTypeList,productList:this.props.productList,goldTypeList:this.props.goldTypeList,goldUnitList:this.props.goldUnitList,importFromFactoryCodeFocusHandler:this.importFromFactoryCodeFocusHandler,importFromFactoryCodeChanged:this.importFromFactoryCodeChangedHandler,importFromFactoryEmployeeIdChanged:this.importFromFactoryEmployeeIdChangeHandler,importFromFactoryEmployeeIdFocusHandler:this.importFromFactoryEmployeeIdFocusHandler,importFromFactoryProductIdChanged:this.importFromFactoryProductIdChangeHandler,importFromFactoryProductIdFocusHandler:this.importFromFactoryProductIdFocusHandler,importFromFactoryGoldTypeIdChanged:this.importFromFactoryGoldTypeIdChangeHandler,importFromFactoryGoldTypeIdFocusHandler:this.importFromFactoryGoldTypeIdFocusHandler,importFromFactoryGoldUnitIdChanged:this.importFromFactoryGoldUnitIdChangeHandler,importFromFactoryGoldUnitIdFocusHandler:this.importFromFactoryGoldUnitIdFocusHandler,importFromFactoryNoteFocusHandler:this.importFromFactoryNoteFocusHandler,importFromFactoryNoteChanged:this.importFromFactoryNoteChangedHandler,importFromFactoryWeightFocusHandler:this.importFromFactoryWeightFocusHandler,importFromFactoryWeightChanged:this.importFromFactoryWeightChangedHandler,importFromFactoryQuantityFocusHandler:this.importFromFactoryQuantityFocusHandler,importFromFactoryQuantityChanged:this.importFromFactoryQuantityChangedHandler,importFromFactoryDateFocusHandler:this.importFromFactoryDateFocusHandler,importFromFactoryDateChanged:this.importFromFactoryDateChangedHandler,importFromFactoryCreateHandler:this.importFromFactoryCreateHandler,importFromFactoryAddDetailHandler:this.importFromFactoryAddDetailHandler,importFromFactorySaveHandler:this.importFromFactorySaveHandler,importFromFactoryDetailEdit:this.importFromFactoryDetailEditHandler}))))),Rt(T.a,{item:!0,xs:12},Rt(T.a,null,Rt(T.a,{item:!0,xs:12,className:o.list},this.props.importFromFactoryList.waiting?Rt(yt.a,null):Rt(At,Object(i.a)({},this.props.importFromFactoryList,{deptList:this.props.deptList,employeeList:this.props.employeeList,productTypeList:this.props.productTypeList,productList:this.props.productList,goldTypeList:this.props.goldTypeList,goldUnitList:this.props.goldUnitList,importFromFactoryEdit:this.importFromFactoryEditHandler,importFromFactoryDelete:this.importFromFactoryDeleteHandler})))))))))}}]),e}(c.Component),Xt=Object(h.b)((function(t){return{importFromFactoryEdit:t.importFromFactory.importFromFactoryEdit,importFromFactoryList:t.importFromFactory.importFromFactoryList,deptList:t.dept.deptList,employeeList:t.employee.employeeList,productTypeList:t.productType.productTypeList,productList:t.product.productList,goldTypeList:t.goldType.goldTypeList,goldUnitList:t.goldUnit.goldUnitList,error:t.importFromFactory.error,deptError:t.dept.error,employeeError:t.employee.error,productTypeError:t.productType.error,productError:t.product.error,goldTypeError:t.goldType.error,goldUnitError:t.goldUnit.error}}),(function(t){return{importFromFactoryCodeFocusDispatch:function(){return t(qt.e())},importFromFactoryCodeChangedDispatch:function(o,e){return t(qt.d(o,e))},importFromFactoryEmployeeIdFocusDispatch:function(){return t(qt.o())},importFromFactoryEmployeeIdChangeDispatch:function(o,e){return t(qt.n(o,e))},importFromFactoryProductIdFocusDispatch:function(){return t(qt.A())},importFromFactoryProductIdChangeDispatch:function(o,e){return t(qt.z(o,e))},importFromFactoryGoldTypeIdFocusDispatch:function(){return t(qt.s())},importFromFactoryGoldTypeIdChangeDispatch:function(o,e){return t(qt.r(o,e))},importFromFactoryGoldUnitIdFocusDispatch:function(){return t(qt.u())},importFromFactoryGoldUnitIdChangeDispatch:function(o,e){return t(qt.t(o,e))},importFromFactoryNoteFocusDispatch:function(){return t(qt.y())},importFromFactoryNoteChangedDispatch:function(o,e){return t(qt.x(o,e))},importFromFactoryWeightFocusDispatch:function(){return t(qt.G())},importFromFactoryWeightChangedDispatch:function(o,e){return t(qt.F(o,e))},importFromFactoryQuantityFocusDispatch:function(){return t(qt.C())},importFromFactoryQuantityChangedDispatch:function(o,e){return t(qt.B(o,e))},importFromFactoryDateFocusDispatch:function(){return t(qt.h())},importFromFactoryDateChangedDispatch:function(o,e){return t(qt.g(o,e))},importFromFactoryCreateDispatch:function(){return t(qt.f())},importFromFactoryAddDetailDispatch:function(o){return t(qt.b(o))},importFromFactoryAddDispatch:function(o){return t(qt.a(o))},importFromFactoryEditDispatch:function(o){return t(qt.l(o))},importFromFactoryUpdateDispatch:function(o,e){return t(qt.D(o,e))},importFromFactoryDetailEditDispatch:function(o){return t(qt.k(o))},importFromFactoryDeleteDispatch:function(o,e){return t(qt.i(o,e))},importFromFactoryListDispatch:function(){return t(qt.v())},importFromFactoryErrorHandledDispatch:function(){return t(qt.q())},deptListDispatch:function(){return t(gt.k())},employeeListDispatch:function(){return t(ft.l())},productTypeListDispatch:function(){return t(Tt.k())},productListDispatch:function(){return t(bt.k())},goldTypeListDispatch:function(){return t(xt.m())},goldUnitListDispatch:function(){return t(vt.m())},onLogout:function(){return t(Dt.g())}}}))(Object(mt.a)(Object(j.a)((function(t){return{root:{flexGrow:1,height:"100%"},grid:Object(F.a)({height:"100%",width:"100%",alignItems:"flex-start",justifyContent:"flex-start"},t.breakpoints.up("sm"),{display:"flex",flexWrap:"wrap",boxSizing:"border-box"}),list:Object(F.a)({height:"50vh",border:"1px solid #d9dddd"},t.breakpoints.up("sm"),{height:"90vh"}),paper:{padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary}}}))(Kt),Ft.a)),Bt=e("kIa1"),zt=e("wMsZ"),Vt=p.a.createElement;function _t(t){var o=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=Object(m.a)(t);if(o){var a=Object(m.a)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return Object(y.a)(this,e)}}var Jt=function(t){Object(u.a)(e,t);var o=_t(e);function e(){var t;Object(l.a)(this,e);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t=o.call.apply(o,[this].concat(a)),Object(F.a)(Object(s.a)(t),"state",{}),Object(F.a)(Object(s.a)(t),"generateBody",(function(){var t="";return t=t=localStorage.getItem("leftSelectedKey"),Vt("div",{style:{height:"100%"}},"purchase"===t?Vt(Bt.a,null):null,"exportToFactory"===t?Vt(jt,null):null,"importFromFactory"===t?Vt(Xt,null):null,"sell"===t?Vt(zt.a,null):null)})),t}return Object(d.a)(e,[{key:"render",value:function(){return console.log((new Date).toLocaleString()+" ............ ManageStoreContainer render"),Vt(g.a,null,this.generateBody())}}]),e}(p.a.Component),Yt=Object(h.b)((function(t){return{leftDrawerItem:t.common.leftDrawerItem}}),(function(t){return{}}))(Jt),Zt=e("urNJ"),$t=e("kiXb"),to=p.a.createElement;function oo(t){return to(Zt.a,Object(i.a)({},t,{title:"ManageStore",leftDrawerItems:t.items}),to(Yt,null))}oo.getInitialProps=function(){var t=Object(n.a)(a.a.mark((function t(o){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{namespacesRequired:["common","home","layout"],currentPage:"/manageStore",items:[{key:"purchase",label:"Nh\u1eadp mua"},{key:"exportToFactory",label:"Xu\u1ea5t cho th\u1ee3"},{key:"importFromFactory",label:"Nh\u1eadp t\u1eeb th\u1ee3"},{key:"sell",label:"Xu\u1ea5t b\xe1n"}]});case 2:case"end":return t.stop()}}),t)})));return function(o){return t.apply(this,arguments)}}();o.default=Object($t.withTranslation)("home")(oo)},tw1T:function(t,o,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manageStore",function(){return e("r4JT")}])}},[["tw1T",1,2,0,3,4,5,6,7,8,10]]]);