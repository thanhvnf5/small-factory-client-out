_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{"6bAQ":function(e,t,n){e.exports={Loader:"Spinner_Loader__3bVk-",load2:"Spinner_load2__3Khm8"}},"6nvI":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sigin",function(){return n("vbsz")}])},Q64X:function(e,t,n){e.exports={Input:"Input_Input__3HuU-",Label:"Input_Label__1PGA9",InputElement:"Input_InputElement__bLkqn",Invalid:"Input_Invalid__3_RYS"}},Rolq:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var a=n("rePB");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=function(e,t){return i(i({},e),t)},u=function(e,t){var n=!0;if(!t)return!0;if(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),t.isEmail){n=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&n}if(t.isNumeric){n=/^\d+$/.test(e)&&n}return n}},RxTV:function(e,t,n){e.exports={Button:"Button_Button__sj3Zl",Success:"Button_Success__2enUT",Danger:"Button_Danger__3YGYW",Hidden:"Button_Hidden__1yIdv"}},Vrfa:function(e,t,n){e.exports={Auth:"Auth_Auth__qZd_J"}},vbsz:function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),r=n.n(a),i=n("HaE+"),o=n("wx14"),u=n("q1tI"),c=n.n(u),l=n("/MKj"),s=n("1OyB"),p=n("vuIU"),d=n("JX7q"),h=n("Ji7U"),f=n("md7G"),b=n("foSv"),g=n("rePB"),v=n("nOHt"),m=n("Q64X"),O=n.n(m),j=c.a.createElement,_=function(e){var t=null,n=[O.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&n.push(O.a.Invalid),e.elementType){case"input":t=j("input",Object(o.a)({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=j("textarea",Object(o.a)({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":t=j("select",{className:n.join(" "),value:e.value,onChange:e.changed},e.elementConfig.options.map((function(e){return j("option",{key:e.value,value:e.value},e.displayValue)})));break;default:t=j("input",Object(o.a)({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}))}return j("div",{className:O.a.Input},j("label",{className:O.a.Label},e.label),t)},y=n("RxTV"),w=n.n(y),P=c.a.createElement,S=function(e){return P("button",{disabled:e.disabled,className:[w.a.Button,w.a[e.btnType]].join(" "),onClick:e.clicked},e.children)},I=n("6bAQ"),N=n.n(I),E=c.a.createElement,R=function(){return E("div",{className:N.a.Loader},"Loading...")},k=n("Vrfa"),A=n.n(k),C=n("/2R5"),T=n("Rolq"),x=c.a.createElement;function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(b.a)(e);if(t){var r=Object(b.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var H=function(e){Object(h.a)(n,e);var t=L(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),Object(g.a)(Object(d.a)(e),"state",{controls:{email:{elementType:"input",elementConfig:{type:"text",placeholder:"Name"},value:"",validation:{required:!0,isEmail:!1},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:1},valid:!1,touched:!1}},isSignup:!0}),Object(g.a)(Object(d.a)(e),"inputChangedHandler",(function(t,n){var a=Object(T.b)(e.state.controls,Object(g.a)({},n,Object(T.b)(e.state.controls[n],{value:t.target.value,valid:Object(T.a)(t.target.value,e.state.controls[n].validation),touched:!0})));e.setState({controls:a})})),Object(g.a)(Object(d.a)(e),"submitHandler",(function(t){t.preventDefault(),e.props.onAuth(e.state.controls.email.value,e.state.controls.password.value,e.state.isSignup)})),Object(g.a)(Object(d.a)(e),"switchAuthModeHandler",(function(){e.setState((function(e){return{isSignup:!e.isSignup}}))})),e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){"/"!==this.props.authRedirectPath&&this.props.onSetAuthRedirectPath()}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.controls)t.push({id:n,config:this.state.controls[n]});var a=t.map((function(t){return x(_,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(n){return e.inputChangedHandler(n,t.id)}})}));this.props.loading&&(a=x(R,null));var r=null;this.props.error&&(r=x("p",null,this.props.error.message));return this.props.isAuthenticated&&this.props.router.push(this.props.authRedirectPath),console.log("Auth render"),x("div",{className:A.a.Auth},r,x("form",{onSubmit:this.submitHandler},a,x(S,{btnType:"Success"},"LOGIN")),x(S,{clicked:this.switchAuthModeHandler,btnType:"Danger"},"SWITCH TO ",this.state.isSignup?"SIGNIN":"SIGNUP"))}}]),n}(u.Component),B=Object(l.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token,authRedirectPath:e.auth.authRedirectPath}}),(function(e){return{onAuth:function(t,n,a){return e(C.a(t,n,a))},onSetAuthRedirectPath:function(){return e(C.i("/"))}}}))(Object(v.withRouter)(H)),D=(n("45Bu"),n("urNJ")),q=n("kiXb"),z=c.a.createElement;function V(e){var t=Object(l.c)();return Object(u.useEffect)((function(){t(Object(C.j)())}),[t]),console.log("Sigins render"),z(D.a,Object(o.a)({},e,{title:"Sigin"}),z(B,null))}V.getInitialProps=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Sigin.getInitialProps"),e.abrupt("return",{namespacesRequired:["common","home","layout"],currentPage:"/sigin",sigin:[{id:"employee",label:"Employee"},{id:"product-type",label:"Product type"}]});case 2:case"end":return e.stop()}}),e)})));t.default=Object(q.withTranslation)("home")(V)}},[["6nvI",1,2,0,3,4,5]]]);