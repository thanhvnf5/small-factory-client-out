_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{"/A0x":function(e,t,n){e.exports={Modal:"Modal_Modal__30XnN"}},"6bAQ":function(e,t,n){e.exports={Loader:"Spinner_Loader__3bVk-",load2:"Spinner_load2__3Khm8"}},"6nvI":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sigin",function(){return n("vbsz")}])},Q64X:function(e,t,n){e.exports={Input:"Input_Input__3HuU-",Label:"Input_Label__1PGA9",InputElement:"Input_InputElement__bLkqn",Invalid:"Input_Invalid__3_RYS"}},RxTV:function(e,t,n){e.exports={Button:"Button_Button__sj3Zl",Success:"Button_Success__2enUT",Danger:"Button_Danger__3YGYW",Hidden:"Button_Hidden__1yIdv"}},Vrfa:function(e,t,n){e.exports={Auth:"Auth_Auth__qZd_J"}},ZUcE:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__1ep7N"}},vbsz:function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),a=n.n(r),o=n("HaE+"),c=n("wx14"),i=n("q1tI"),u=n.n(i),s=n("/MKj"),l=n("1OyB"),p=n("vuIU"),d=n("JX7q"),h=n("Ji7U"),f=n("md7G"),v=n("foSv"),b=n("rePB"),m=n("nOHt"),g=n("Q64X"),j=n.n(g),y=u.a.createElement,_=function(e){var t=null,n=[j.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&n.push(j.a.Invalid),e.elementType){case"input":t=y("input",Object(c.a)({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=y("textarea",Object(c.a)({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":t=y("select",{className:n.join(" "),value:e.value,onChange:e.changed},e.elementConfig.options.map((function(e){return y("option",{key:e.value,value:e.value},e.displayValue)})));break;default:t=y("input",Object(c.a)({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}))}return y("div",{className:j.a.Input},y("label",{className:j.a.Label},e.label),t)},O=n("RxTV"),w=n.n(O),I=u.a.createElement,k=function(e){return I("button",{disabled:e.disabled,className:[w.a.Button,w.a[e.btnType]].join(" "),onClick:e.clicked},e.children)},S=n("6bAQ"),R=n.n(S),C=u.a.createElement,N=function(){return C("div",{className:R.a.Loader},"Loading...")},E=n("Vrfa"),A=n.n(E),P=n("/2R5"),x=n("Rolq"),T=n("3eXy"),B=n("/A0x"),H=n.n(B),q=n("WqI3"),D=n("ZUcE"),L=n.n(D),M=u.a.createElement,U=function(e){return e.show?M("div",{className:L.a.Backdrop,onClick:e.clicked}):null},V=u.a.createElement;function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(v.a)(e);if(t){var a=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var G=function(e){Object(h.a)(n,e);var t=X(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return V(q.a,null,V(U,{show:this.props.show,clicked:this.props.modalClosed}),V("div",{className:H.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),n}(i.Component),J=u.a.createElement;function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(v.a)(e);if(t){var a=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var Q=function(e,t){return function(n){Object(h.a)(a,n);var r=Y(a);function a(){var e;Object(l.a)(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),Object(b.a)(Object(d.a)(e),"state",{error:null}),Object(b.a)(Object(d.a)(e),"errorConfirmedHandler",(function(){e.setState({error:null})})),e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.reqInterceptor=t.interceptors.request.use((function(t){return e.setState({error:null}),t})),this.resInterceptor=t.interceptors.response.use((function(e){return e}),(function(t){return t.response.status,e.setState({error:t.response}),t.response}))}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterceptor),t.interceptors.response.eject(this.resInterceptor)}},{key:"render",value:function(){return J(q.a,null,J(G,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error&&this.state.error.data.error?this.state.error.data.error.message:"<<Error>>"),J(e,this.props))}}]),a}(i.Component)},W=u.a.createElement;function Z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(v.a)(e);if(t){var a=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var z=function(e){Object(h.a)(n,e);var t=Z(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),Object(b.a)(Object(d.a)(e),"state",{controls:{email:{elementType:"input",elementConfig:{type:"text",placeholder:"Name"},value:"",validation:{required:!0,isEmail:!1},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:1},valid:!1,touched:!1}},isSignup:!0}),Object(b.a)(Object(d.a)(e),"inputChangedHandler",(function(t,n){var r=Object(x.b)(e.state.controls,Object(b.a)({},n,Object(x.b)(e.state.controls[n],{value:t.target.value,valid:Object(x.a)(t.target.value,e.state.controls[n].validation),touched:!0})));e.setState({controls:r})})),Object(b.a)(Object(d.a)(e),"submitHandler",(function(t){t.preventDefault(),e.props.onAuth(e.state.controls.email.value,e.state.controls.password.value,e.state.isSignup)})),Object(b.a)(Object(d.a)(e),"switchAuthModeHandler",(function(){e.setState((function(e){return{isSignup:!e.isSignup}}))})),e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){"/"!==this.props.authRedirectPath&&this.props.onSetAuthRedirectPath()}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.controls)t.push({id:n,config:this.state.controls[n]});var r=t.map((function(t){return W(_,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(n){return e.inputChangedHandler(n,t.id)}})}));this.props.loading&&(r=W(N,null));var a=null;this.props.error&&(a=W("p",null,this.props.error.message));return this.props.isAuthenticated&&this.props.router.push(this.props.authRedirectPath),console.log("Auth render"),W("div",{className:A.a.Auth},a,W("form",{onSubmit:this.submitHandler},r,W(k,{btnType:"Success"},"LOGIN")),W(k,{clicked:this.switchAuthModeHandler,btnType:"Danger"},"SWITCH TO ",this.state.isSignup?"SIGNIN":"SIGNUP"))}}]),n}(u.a.PureComponent),K=Object(s.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token,authRedirectPath:e.auth.authRedirectPath}}),(function(e){return{onAuth:function(t,n,r){return e(P.a(t,n,r))},onSetAuthRedirectPath:function(){return e(P.i("/"))}}}))(Object(m.withRouter)(Q(z,T.a))),F=(n("45Bu"),n("urNJ")),$=n("kiXb"),ee=u.a.createElement;function te(e){var t=Object(s.c)();return Object(i.useEffect)((function(){t(Object(P.j)())}),[t]),console.log("Sigins render"),ee(F.a,Object(c.a)({},e,{title:"Sigin"}),ee(K,null))}te.getInitialProps=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Sigin.getInitialProps"),e.abrupt("return",{namespacesRequired:["common","home","layout"],currentPage:"/sigin",sigin:[{id:"employee",label:"Employee"},{id:"product-type",label:"Product type"}]});case 2:case"end":return e.stop()}}),e)})));t.default=Object($.withTranslation)("home")(te)}},[["6nvI",1,2,0,3,4,5,6]]]);