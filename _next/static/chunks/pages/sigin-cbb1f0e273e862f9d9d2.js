_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{"/A0x":function(t,e,n){t.exports={Modal:"Modal_Modal__30XnN"}},"6bAQ":function(t,e,n){t.exports={Loader:"Spinner_Loader__3bVk-",load2:"Spinner_load2__3Khm8"}},"6nvI":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sigin",function(){return n("vbsz")}])},DL1K:function(t,e,n){"use strict";var r=n("1OyB"),a=n("vuIU"),o=n("JX7q"),i=n("Ji7U"),c=n("md7G"),u=n("foSv"),s=n("rePB"),l=n("q1tI"),p=n.n(l),f=n("nOHt"),d=n.n(f),h=(n("p46w"),n("/MKj")),v=n("/A0x"),b=n.n(v),m=n("WqI3"),g=n("ZUcE"),O=n.n(g),j=p.a.createElement,y=function(t){return t.show?j("div",{className:O.a.Backdrop,onClick:t.clicked}):null},_=p.a.createElement;function w(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(u.a)(t);if(e){var a=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var I=function(t){Object(i.a)(n,t);var e=w(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(t,e){return t.show!==this.props.show||t.children!==this.props.children}},{key:"render",value:function(){return _(m.a,null,_(y,{show:this.props.show,clicked:this.props.modalClosed}),_("div",{className:b.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),n}(l.Component),S=n("/2R5"),k=p.a.createElement;function E(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(u.a)(t);if(e){var a=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}e.a=function(t,e){var n=function(n){Object(i.a)(u,n);var c=E(u);function u(){var t;Object(r.a)(this,u);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=c.call.apply(c,[this].concat(n)),Object(s.a)(Object(o.a)(t),"state",{error:null}),Object(s.a)(Object(o.a)(t),"errorConfirmedHandler",(function(){t.setState({error:null})})),t}return Object(a.a)(u,[{key:"componentDidMount",value:function(){var t=this;this.reqInterceptor=e.interceptors.request.use((function(e){return t.setState({error:null}),e})),this.resInterceptor=e.interceptors.response.use((function(t){return t}),(function(e){return 401===e.response.status&&(t.props.onLogout(),d.a.push("/sigin")),t.setState({error:e.response}),e.response}))}},{key:"componentWillUnmount",value:function(){e.interceptors.request.eject(this.reqInterceptor),e.interceptors.response.eject(this.resInterceptor)}},{key:"render",value:function(){return k(m.a,null,k(I,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error&&this.state.error.data.error?this.state.error.data.error.message:"<<Error>>"),k(t,this.props))}}]),u}(l.Component);return Object(h.b)(null,(function(t){return{onAuth:function(e,n,r){return t(S.a(e,n,r))},onLogout:function(){return t(S.n())}}}))(n)}},E5ef:function(t,e,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("RxTV"),i=n.n(o),c=a.a.createElement;e.a=function(t){return c("button",{disabled:t.disabled,className:[i.a.Button,i.a[t.btnType]].join(" "),onClick:t.clicked},t.children)}},Q64X:function(t,e,n){t.exports={Input:"Input_Input__3HuU-",Label:"Input_Label__1PGA9",InputElement:"Input_InputElement__bLkqn",Invalid:"Input_Invalid__3_RYS"}},Rolq:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return c}));var r=n("rePB");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var i=function(t,e){return o(o({},t),e)},c=function(t,e){var n=!0;if(!e)return!0;if(e.required&&(n=""!==t.trim()&&n),e.minLength&&(n=t.length>=e.minLength&&n),e.maxLength&&(n=t.length<=e.maxLength&&n),e.isEmail){n=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(t)&&n}if(e.isNumeric){n=/^\d+$/.test(t)&&n}return n}},RxTV:function(t,e,n){t.exports={Button:"Button_Button__sj3Zl",Success:"Button_Success__2enUT",Danger:"Button_Danger__3YGYW",Hidden:"Button_Hidden__1yIdv"}},Vrfa:function(t,e,n){t.exports={Auth:"Auth_Auth__qZd_J"}},ZUcE:function(t,e,n){t.exports={Backdrop:"Backdrop_Backdrop__1ep7N"}},gEaM:function(t,e,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("6bAQ"),i=n.n(o),c=a.a.createElement;e.a=function(){return c("div",{className:i.a.Loader},"Loading...")}},vbsz:function(t,e,n){"use strict";n.r(e);var r=n("o0o1"),a=n.n(r),o=n("HaE+"),i=n("wx14"),c=n("q1tI"),u=n.n(c),s=n("/MKj"),l=n("1OyB"),p=n("vuIU"),f=n("JX7q"),d=n("Ji7U"),h=n("md7G"),v=n("foSv"),b=n("rePB"),m=n("nOHt"),g=n("Q64X"),O=n.n(g),j=u.a.createElement,y=function(t){var e=null,n=[O.a.InputElement];switch(t.invalid&&t.shouldValidate&&t.touched&&n.push(O.a.Invalid),t.elementType){case"input":e=j("input",Object(i.a)({className:n.join(" ")},t.elementConfig,{value:t.value,onChange:t.changed}));break;case"textarea":e=j("textarea",Object(i.a)({className:n.join(" ")},t.elementConfig,{value:t.value,onChange:t.changed}));break;case"select":e=j("select",{className:n.join(" "),value:t.value,onChange:t.changed},t.elementConfig.options.map((function(t){return j("option",{key:t.value,value:t.value},t.displayValue)})));break;default:e=j("input",Object(i.a)({className:n.join(" ")},t.elementConfig,{value:t.value,onChange:t.changed}))}return j("div",{className:O.a.Input},j("label",{className:O.a.Label},t.label),e)},_=n("E5ef"),w=n("gEaM"),I=n("Vrfa"),S=n.n(I),k=n("/2R5"),E=n("Rolq"),P=n("eAqC"),R=n("DL1K"),C=u.a.createElement;function N(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var a=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var A=function(t){Object(d.a)(n,t);var e=N(n);function n(){var t;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a)),Object(b.a)(Object(f.a)(t),"state",{controls:{email:{elementType:"input",elementConfig:{type:"text",placeholder:"Name"},value:"",validation:{required:!0,isEmail:!1},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:1},valid:!1,touched:!1}},isSignup:!0}),Object(b.a)(Object(f.a)(t),"inputChangedHandler",(function(e,n){var r=Object(E.b)(t.state.controls,Object(b.a)({},n,Object(E.b)(t.state.controls[n],{value:e.target.value,valid:Object(E.a)(e.target.value,t.state.controls[n].validation),touched:!0})));t.setState({controls:r})})),Object(b.a)(Object(f.a)(t),"submitHandler",(function(e){e.preventDefault(),t.props.onAuth(t.state.controls.email.value,t.state.controls.password.value,t.state.isSignup)})),Object(b.a)(Object(f.a)(t),"switchAuthModeHandler",(function(){t.setState((function(t){return{isSignup:!t.isSignup}}))})),t}return Object(p.a)(n,[{key:"componentDidUpdate",value:function(){if(this.props.isAuthenticated){var t=localStorage.getItem("authRedirectPath");t||(t="/"),this.props.router.push(t)}}},{key:"render",value:function(){var t=this,e=null;this.props.error&&(e=C("p",null,this.props.error.message));var n=null;if(this.props.loading)n=C(w.a,null);else{var r=[];for(var a in this.state.controls)r.push({id:a,config:this.state.controls[a]});n=r.map((function(e){return C(y,{key:e.id,elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(n){return t.inputChangedHandler(n,e.id)}})}))}return console.log("Auth render"),C("div",{className:S.a.Auth},e,C("form",{onSubmit:this.submitHandler},n,C(_.a,{btnType:"Success"},"LOGIN")),C(_.a,{clicked:this.switchAuthModeHandler,btnType:"Danger"},"SWITCH TO ",this.state.isSignup?"SIGNIN":"SIGNUP"))}}]),n}(u.a.PureComponent),q=Object(s.b)((function(t){return{loading:t.auth.loading,error:t.auth.error,isAuthenticated:t.auth.isAuthenticated}}),(function(t){return{onAuth:function(e,n,r,a){return t(k.a(e,n,r,a))}}}))(Object(m.withRouter)(Object(R.a)(A,P.a))),x=(n("45Bu"),n("urNJ")),D=n("kiXb"),L=(n("KY7W"),u.a.createElement);function B(t){return console.log("Sigins render"),L(x.a,Object(i.a)({},t,{title:"Sigin"}),L(q,{authRedirectPath:t.authRedirectPath}))}B.getInitialProps=function(){var t=Object(o.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sigin.getInitialProps: client."),console.log("Sigin.getInitialProps."),t.abrupt("return",{namespacesRequired:["common","home","layout"],currentPage:"/sigin",authRedirectPath:"/",sigin:[{id:"employee",label:"Employee"},{id:"product-type",label:"Product type"}]});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.default=Object(D.withTranslation)("home")(B)}},[["6nvI",1,2,0,3,4,6,5]]]);