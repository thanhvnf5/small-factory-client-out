_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{"/A0x":function(t,e,n){t.exports={Modal:"Modal_Modal__30XnN"}},"6bAQ":function(t,e,n){t.exports={Loader:"Spinner_Loader__3bVk-",load2:"Spinner_load2__3Khm8"}},"6nvI":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sigin",function(){return n("vbsz")}])},DL1K:function(t,e,n){"use strict";var r=n("1OyB"),a=n("vuIU"),o=n("JX7q"),c=n("Ji7U"),i=n("md7G"),u=n("foSv"),s=n("rePB"),l=n("q1tI"),p=n.n(l),f=n("nOHt"),d=n.n(f),h=(n("p46w"),n("/MKj")),v=n("MoyI"),b=n("WqI3"),m=n("/2R5"),g=p.a.createElement;function y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(u.a)(t);if(e){var a=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(i.a)(this,n)}}e.a=function(t,e){var n=function(n){Object(c.a)(u,n);var i=y(u);function u(){var t;Object(r.a)(this,u);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=i.call.apply(i,[this].concat(n)),Object(s.a)(Object(o.a)(t),"state",{error:null}),Object(s.a)(Object(o.a)(t),"errorConfirmedHandler",(function(){t.setState({error:null})})),t}return Object(a.a)(u,[{key:"componentDidMount",value:function(){var t=this;this.reqInterceptor=e.interceptors.request.use((function(e){return t.setState({error:null}),e})),this.resInterceptor=e.interceptors.response.use((function(t){return t}),(function(e){return 401===e.response.status&&(t.props.onLogout(),d.a.push("/sigin")),t.setState({error:e.response}),e.response}))}},{key:"componentWillUnmount",value:function(){e.interceptors.request.eject(this.reqInterceptor),e.interceptors.response.eject(this.resInterceptor)}},{key:"render",value:function(){return g(b.a,null,g(v.a,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error&&this.state.error.data.error?this.state.error.data.error.message:"<<Error>>"),g(t,this.props))}}]),u}(l.Component);return Object(h.b)(null,(function(t){return{onAuth:function(e,n,r){return t(m.a(e,n,r))},onLogout:function(){return t(m.y())}}}))(n)}},MoyI:function(t,e,n){"use strict";var r=n("1OyB"),a=n("vuIU"),o=n("Ji7U"),c=n("md7G"),i=n("foSv"),u=n("q1tI"),s=n.n(u),l=n("/A0x"),p=n.n(l),f=n("WqI3"),d=n("ZUcE"),h=n.n(d),v=s.a.createElement,b=function(t){return t.show?v("div",{className:h.a.Backdrop,onClick:t.clicked}):null},m=s.a.createElement;function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(i.a)(t);if(e){var a=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var y=function(t){Object(o.a)(n,t);var e=g(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(t,e){return t.show!==this.props.show||t.children!==this.props.children}},{key:"render",value:function(){return m(f.a,null,m(b,{show:this.props.show,clicked:this.props.modalClosed}),m("div",{className:p.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),n}(u.Component);e.a=y},Q64X:function(t,e,n){t.exports={Input:"Input_Input__3HuU-",Label:"Input_Label__1PGA9",InputElement:"Input_InputElement__bLkqn",Invalid:"Input_Invalid__3_RYS"}},Rolq:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return i}));var r=n("rePB");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c=function(t,e){return o(o({},t),e)},i=function(t,e){var n=!0;if(!e)return!0;if(e.required&&(n=t&&(t instanceof Date||""!==t.trim())&&n),e.minLength&&(n=t.length>=e.minLength&&n),e.maxLength&&(n=t.length<=e.maxLength&&n),e.isEmail){n=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(t)&&n}if(e.isNumeric){n=/^\d+$/.test(t)&&n}return e.minValue&&(n=t.length>=e.minValue&&n),e.maxValue&&(n=t<=e.maxValue&&n),n}},RxTV:function(t,e,n){t.exports={Button:"Button_Button__sj3Zl",Success:"Button_Success__2enUT",Danger:"Button_Danger__3YGYW",Hidden:"Button_Hidden__1yIdv"}},Vrfa:function(t,e,n){t.exports={Auth:"Auth_Auth__qZd_J"}},ZUcE:function(t,e,n){t.exports={Backdrop:"Backdrop_Backdrop__1ep7N"}},gEaM:function(t,e,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("6bAQ"),c=n.n(o),i=a.a.createElement;e.a=function(){return i("div",{className:c.a.Loader},"Loading...")}},vbsz:function(t,e,n){"use strict";n.r(e);var r=n("o0o1"),a=n.n(r),o=n("HaE+"),c=n("wx14"),i=n("q1tI"),u=n.n(i),s=n("/MKj"),l=n("1OyB"),p=n("vuIU"),f=n("JX7q"),d=n("Ji7U"),h=n("md7G"),v=n("foSv"),b=n("rePB"),m=n("nOHt"),g=n("Q64X"),y=n.n(g),O=u.a.createElement,j=function(t){var e=null,n=[y.a.InputElement];switch(t.invalid&&t.shouldValidate&&t.touched&&n.push(y.a.Invalid),t.elementType){case"input":e=O("input",Object(c.a)({className:n.join(" ")},t.elementConfig,{value:t.value,onChange:t.changed}));break;case"textarea":e=O("textarea",Object(c.a)({className:n.join(" ")},t.elementConfig,{value:t.value,onChange:t.changed}));break;case"select":e=O("select",{className:n.join(" "),value:t.value,onChange:t.changed},t.elementConfig.options.map((function(t){return O("option",{key:t.value,value:t.value},t.displayValue)})));break;default:e=O("input",Object(c.a)({className:n.join(" ")},t.elementConfig,{value:t.value,onChange:t.changed}))}return O("div",{className:y.a.Input},O("label",{className:y.a.Label},t.label),e)},_=n("RxTV"),w=n.n(_),I=u.a.createElement,k=function(t){return I("button",{disabled:t.disabled,className:[w.a.Button,w.a[t.btnType]].join(" "),onClick:t.clicked},t.children)},R=n("gEaM"),E=n("Vrfa"),P=n.n(E),S=n("/2R5"),C=n("Rolq"),x=n("eAqC"),N=n("DL1K"),q=u.a.createElement;function A(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var a=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var B=function(t){Object(d.a)(n,t);var e=A(n);function n(){var t;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a)),Object(b.a)(Object(f.a)(t),"state",{controls:{email:{elementType:"input",elementConfig:{type:"text",placeholder:"Name"},value:"",validation:{required:!0,isEmail:!1},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:1},valid:!1,touched:!1}},isSignup:!0}),Object(b.a)(Object(f.a)(t),"inputChangedHandler",(function(e,n){var r=Object(C.b)(t.state.controls,Object(b.a)({},n,Object(C.b)(t.state.controls[n],{value:e.target.value,valid:Object(C.a)(e.target.value,t.state.controls[n].validation),touched:!0})));t.setState({controls:r})})),Object(b.a)(Object(f.a)(t),"submitHandler",(function(e){e.preventDefault(),t.props.onAuth(t.state.controls.email.value,t.state.controls.password.value,t.state.isSignup)})),Object(b.a)(Object(f.a)(t),"switchAuthModeHandler",(function(){t.setState((function(t){return{isSignup:!t.isSignup}}))})),t}return Object(p.a)(n,[{key:"componentDidUpdate",value:function(){if(this.props.isAuthenticated){var t=localStorage.getItem("authRedirectPath");t||(t="/"),this.props.router.push(t)}}},{key:"render",value:function(){var t=this,e=null;this.props.error&&(e=q("p",null,this.props.error.message));var n=null;if(this.props.loading)n=q(R.a,null);else{var r=[];for(var a in this.state.controls)r.push({id:a,config:this.state.controls[a]});n=r.map((function(e){return q(j,{key:e.id,elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(n){return t.inputChangedHandler(n,e.id)}})}))}return q("div",{className:P.a.Auth},e,q("form",{onSubmit:this.submitHandler},n,q(k,{btnType:"Success"},"LOGIN")))}}]),n}(u.a.PureComponent),D=Object(s.b)((function(t){return{loading:t.auth.loading,error:t.auth.error,isAuthenticated:t.auth.isAuthenticated}}),(function(t){return{onAuth:function(e,n,r,a){return t(S.a(e,n,r,a))}}}))(Object(m.withRouter)(Object(N.a)(B,x.a))),L=(n("45Bu"),n("urNJ")),H=n("kiXb"),T=(n("KY7W"),u.a.createElement);function U(t){return T(L.a,Object(c.a)({},t,{title:"Sigin"}),T(D,{authRedirectPath:t.authRedirectPath}))}U.getInitialProps=function(){var t=Object(o.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{namespacesRequired:["common","home","layout"],currentPage:"/sigin",authRedirectPath:"/",sigin:[{id:"employee",label:"Employee"},{id:"product-type",label:"Product type"}]});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.default=Object(H.withTranslation)("home")(U)}},[["6nvI",1,2,0,3,4,5,8]]]);